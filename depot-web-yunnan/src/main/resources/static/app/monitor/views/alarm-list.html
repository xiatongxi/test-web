<!-- MAIN CONTENT -->
<div id="content">
    <!-- widget grid -->
    <section widget-grid id="widget-grid">


        <div class="row">
            <article class="col-sm-12">

                <div jarvis-widget id="standard-datatable-widget" data-widget-color="darken" data-widget-editbutton="false">
                    <header>
                        <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                        <h2>报警信息列表 </h2>
                    </header>
                    <div>
                        <div class="widget-body no-padding">
                        <div id="DataTables_Table_1_wrapper" class="dataTables_wrapper form-inline no-footer">
							<div class="dt-toolbar">
								<div class="col-xs-12 col-sm-8">
									<div class="form-group">
										<label>
											<span>报警类型：</span>
											<label class="select">
												<select class="form-control" name="postWaterIn" ng-model="car.name">
													<option value="">--请选择--</option>
													<option value="短信报警">短信报警</option>
													<option value="系统报警">系统报警</option>
												</select> <i></i>
											</label>
										</label>
										<a class="btn btn-default btn-sm" ng-click="loadData()">
											<i class="fa fa-search"></i>&nbsp;查&nbsp;询</a>
									</div>
								</div>
								<div class="col-sm-3 col-xs-6 hidden-xs">
									<div class="dataTables_length">
										<label>每页显示 <select ng-model="pageInfo.pageSize" ng-change="loadData()"
															ng-options="num as num for num in [10,25,50,100]"
															class="form-control input-sm"></select> 条
										</label>
									</div>
								</div>
							</div>

						<table class="table table-striped table-bordered table-hover" width="100%">
                        <thead>
                        <tr>
                            <th data-class="expand">报警名称</th>
							<th data-class="expand">摄像头名称</th>
                            <th data-class="expand">报警类型</th>
                            <!--<th data-class="expand">图片</th>-->
                            <th data-hide="phone">报警内容</th>
                            <th data-hide="phone">报警时间</th>
                            <th data-hide="phone">报警等级</th>
                        </tr>
                        </thead>
                        
                        <tbody>
                        	<tr ng-repeat="alarm in pageInfo.list">
                        		<td>{{alarm.alarmName=='0'?'质量诊断检测':'行为分析检测'}}</td>
								<td>{{alarm.cameraName}}</td>
                        		<td>{{alarm.alarmType}}</td>
								<!--<td>-->
									<!--<a ng-click="getPicture(alarm.imgPath)"><img width="23px;" height="23px" src="{{alarm.imgPath}}"/>点击预览</a>-->
								<!--</td>-->
								<td><label title='{{alarm.alarmContent}}'>{{alarm.alarmContent.substring(0,5)+((alarm.alarmContent).length>5?"...":"")}}</label></td>
								<td>{{alarm.alarmTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                        		<td>{{alarm.alarmGrade=='1'?'低级':'高级'}}</td>
                        	</tr>
                        </tbody>
                        </table>
						<div smart-include="app/layout/partials/page.tpl.html"></div>
                    </div>
                </div>
					</div>
				</div>
            </article>
        </div>

    </section>
    
</div>


<!-- Modal -->
<div class="modal fade" id="pictureModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body">

				<form id="role-form" class="smart-form ng-pristine ng-valid" data-validator-option="validateOptions" novalidate="novalidate">
					<div class="row">
						<section class="col col-sm-12">
							<img style="width:100%;height:100%"src="{{picture}}"  alt="报警截图" />
						</section>
					</div>
				</form>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->