<!-- MAIN CONTENT -->
<div id="content">
	<!-- widget grid -->
	<section widget-grid id="widget-grid">


		<div class="row">
			<article class="col-sm-12">

				<div jarvis-widget id="standard-datatable-widget"
					data-widget-color="darken" data-widget-editbutton="false">
					<header>
						<span class="widget-icon"> <i class="fa fa-table"></i>
						</span>
						<h2>{{title}}</h2>
					</header>
					<div>
						<div class="widget-body no-padding">
							<div id="DataTables_Table_1_wrapper"
								class="dataTables_wrapper form-inline no-footer">
								<div class="dt-toolbar">
									<div class="col-xs-12 col-sm-9">
                                        <label>
				                                                                                                业务类型:  <input type="search" class="form-control input-sm" ng-model="approval.projectName" placeholder="" />&emsp;
				                                                                                                提交人:    <input type="search" class="form-control input-sm" ng-model="approval.applyName" placeholder="">&emsp;
                                                <!-- 搜索:  <input type="search" class="form-control input-sm" placeholder="">&emsp; -->
                                                <a class="btn btn-default btn-sm" ng-click="loadData()">
												<i class="fa fa-search"></i>&nbsp;查&nbsp;询</a>
                                        </label>
									</div>
									<div class="col-sm-3 col-xs-6 hidden-xs">
										<div class="dataTables_length">
											<label>每页显示 <select ng-model="pageInfo.pageSize" ng-change="loadData(pageInfo.pageNum=1)"
																ng-options="num as num for num in [1,10,25,50,100]"
																class="form-control input-sm"></select> 条
											</label>
									</div>
									</div>
								</div>

								<table class="table table-striped table-bordered table-hover"
									width="100%">
									<thead>
										<tr>

											<th> 业务类型</th>
											<th> 业务信息</th>
											<th> 提交人</th>
											<th> 审批人</th>
											<th> 创建日期</th>
											<th> 审批状态</th>
											<th> 操作</th>
										</tr>
									</thead>

									<tbody>
										<tr ng-repeat="approval in pageInfo.list">
											<td>{{approval.projectName}}</td>
											<td>{{approval.taskTypeName}}</td>
											<td>{{approval.applyName}}</td>
											<td>{{approval.operatorName}}</td>
											<td>{{approval.applyTime | date:'yyyy-MM-dd' }}</td>
											<td>{{approval.result}}</td>
											<td>
											   <span ng-if="approval.result=='驳回'" ng-show="title=='待办事项列表'">
													<a has-permission="670" href-void ng-click="showToEdit(approval.projectId, approval.result,approval.taskType,approval.dpId,approval.duId)"><i class="fa fa-edit"></i>修改&nbsp;</a>
				                                    <a has-permission="671"  href-void ng-click="choice(approval)"><i class="fa fa-pencil-square"></i>提交</a>
												</span>
												<span ng-if="approval.result=='驳回'" ng-show="title=='已办事项列表'">
													<a href-void 
												ng-click="viewAuditPage(approval.projectId, approval.processInstanceId, approval.taskId, approval.id,approval.taskType,approval.dpId,approval.duId)">
													<i class="fa fa-info-circle"></i>查看</a>
												</span>
											   <span ng-if="approval.result=='待审批'">
													<a has-permission="454" href-void 
												ng-click="auditPage(approval.projectId, approval.processInstanceId,approval.taskType, approval.taskId,approval.id, approval.result,approval.dpId,approval.duId,approval.taskName)"><i
													class="fa fa-pencil-square"></i>审批</a> 
												</span>
											   <span ng-if="approval.result=='同意' || approval.result=='拒绝' || approval.result=='已审批' || approval.result=='审批结束'">
													<a href-void 
												ng-click="viewAuditPage(approval.projectId, approval.processInstanceId, approval.taskId, approval.id,approval.taskType,approval.dpId,approval.duId)">
													<i class="fa fa-info-circle"></i>查看</a>
												</span>
		                                </td>
										</tr>
									</tbody>

								</table>
								<div smart-include="app/layout/partials/page.tpl.html"></div>
							</div>
						</div>
					</div>
				</div>
			</article>
		</div>

	</section>

</div>
