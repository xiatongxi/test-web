<!-- MAIN CONTENT -->
<div id="content">

	<!-- widget grid -->
	<section id="widget-grid" widget-grid>

		<!-- START ROW -->
		<div class="row">

			<!-- NEW COL START -->
			<article class="col-sm-12 col-md-12 col-lg-12">

				<!-- Widget ID (each widget will need unique ID)-->
				<div jarvis-widget id="form-grid-widget"
					 data-widget-colorbutton="false" data-widget-editbutton="false"
					 data-widget-custombutton="false">

					<!-- widget div-->
					<div>

						<!-- widget content -->
						<div class="widget-body no-padding">
							<form id="agentDepot-form" class="smart-form ng-pristine ng-valid" data-validator-option="validateOptions" novalidate="novalidate">
								<header>
									<a href-void class="btn btn-default btn-xs" ng-click="retList()">
										<i class="fa fa-angle-left"></i>&nbsp;返回&nbsp;
									</a>
									&nbsp;<strong>代储点粮库信息备案</strong>
								</header>
								<fieldset>
									<div class="row">
										<section class="col col-4">
											<label class="label txt-bg-red">粮库名称</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="agentName" ng-model="agentDepotEdit.agentDepotName"
													   minlength="2" maxlength="20" required/>
											</label>
										</section>
										<section class="col col-4">
											<label class="label">代储企业名称</label>
											<label class="select">
												<select ng-model="agentDepotEdit.agentId" required
														ng-options="agent.id as agent.agentName for agent in agentData.list"
														class="form-control">
													<option value="">--请选择--</option>
												</select>
											</label>
										</section>
										<section class="col col-4">
											<label class="label txt-bg-red">库点类别</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="creditCode" ng-model="agentDepotEdit.depotType"
													   minlength="2" maxlength="20" required/>
											</label>
										</section>
									</div>
									<div class="row">
										<section class="col col-4">
											<label class="label txt-bg-red">设计仓容</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="agentNature" ng-model="agentDepotEdit.designStorage"
													   minlength="2" maxlength="20" required/>
											</label>
										</section>
										<section class="col col-4">
											<label class="label txt-bg-red">地址</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="agentType" ng-model="agentDepotEdit.address"/>
											</label>
										</section>
										<section class="col col-4">
											<label class="label txt-bg-red">电话</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="capacity" ng-model="agentDepotEdit.phone"/>
											</label>
										</section>
									</div>
									<div class="row">
										<section class="col col-4">
											<label class="label txt-bg-red">经度</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="longitude" ng-model="agentDepotEdit.longitude"
													   minlength="2" maxlength="20"/>
											</label>
										</section>
										<section class="col col-4">
											<label class="label txt-bg-red">纬度</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="latitude" ng-model="agentDepotEdit.latitude"
													   minlength="2" maxlength="20"/>
											</label>
										</section>
										<section class="col col-4">
											<label class="label txt-bg-red">所属行政区划</label>
											<label class="input">
												<i class="icon-prepend fa fa-user"></i>
												<input type="text" name="administrativeArea" ng-model="agentDepotEdit.administrativeArea"
													   minlength="2" maxlength="20"/>
											</label>
										</section>
									</div>
								</fieldset>

								<header>
									<h3>
										<strong>附件信息</strong>
										<a href-void class="btn btn-primary" ng-hide="disabled" ng-click="addFile()"> <i class="fa fa-plus"></i>文件 </a>
									</h3>
								</header>
								<fieldset>

									<table ng-hide="disabled" class="table table-striped table-bordered table-hover" ng-repeat="linenumber in linenumbers" ng-click="clickFileInput(linenumber)" >
										<!--第四3个tr开始 -->
										<tr>
											<th width='10%' >
												<label class="label" style="margin-top: 9px;text-align: center;">附件</label>
											</th>
											<th colspan="4">
												<section>
													<div class="input input-file" style="margin-top: 9px; text-align: center; margin-right: 22px;">
											            <span class="button" >
											            	<input type="file" nv-file-select="" uploader="uploader" accept="*" options="id" id="fileInputId{{linenumber}}"
																   onchange="if (this.value != '')this.parentNode.nextSibling.value = this.value">
											                	上传
											            </span><input type="text" name="imgUrl" placeholder="" readonly="">
													</div>
												</section>
											</th>

											<th width='10%'>
												<div class="input input-file" style="margin-top: 9px; text-align: center; margin-right: 16px;">
														<span class="button"  ng-click="deleteFileByLinenumber(linenumber)">删除
											            </span>
												</div>
											</th>

										</tr>
										<!--第四3个tr结束 -->
									</table>

									<!--回显文件的表格  -->

									<table class="table table-striped table-bordered table-hover" ng-repeat="file in fileList" >
										<!--第四3个tr开始 -->
										<tr>
											<th width='10%' >
												<label class="label" style="margin-top: 9px;text-align: center;">附件</label>
											</th>
											<th colspan="5">
												<section >
													<input class="form-control" type="text" ng-model="file.originalFileName" readonly="">
												</section>
											</th>
											<th width='10%' ng-show="disabled">
												<section style="margin-top: 9px; text-align: center; margin-right: 22px;">
													<a class="btn btn-default" href-void ng-click="download(file.filePath, file.originalFileName)"><i class="fa fa-download"></i>下载</a>
												</section>
											</th>
											<th width='10%' ng-hide="disabled">
												<div class="input input-file" style="margin-top: 9px; text-align: center; margin-right: 16px;">
														<span class="button"  ng-click="deleteFileByFileId(file.id)">删除
											            </span>
												</div>
											</th>
										</tr>
										<!--第四3个tr结束 -->
									</table>
								</fieldset>

								<footer class="text-align-center">
									<button ng-show="isShow == '1'" type="button" class="btn btn-primary" ng-click="saveData()">提交</button>
									<button type="button" class="btn btn-default" ng-click="getEmptying()">取消</button>
								</footer>
							</form>
						</div>
					</div>
				</div>
			</article>
		</div>
	</section>
	<form id="download-form" method="post" target="_blank" style=" border-width:5px; margin-left:2%;position:relative;margin-right:2%;">
		<input type="hidden" name="filePath" id="filePath">
		<input type="hidden" name="originalFileName" id="originalFileName">
		<input type="hidden" name="type" id="type">
	</form>
</div>